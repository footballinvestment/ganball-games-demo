<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üèåÔ∏è‚Äç‚ôÇÔ∏è‚öΩ GƒÅnFootgolf</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, sans-serif;
        background: linear-gradient(135deg, #2e8b57 0%, #228b22 100%);
        min-height: 100vh;
        padding: 20px;
        color: white;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .header {
        background: linear-gradient(135deg, #2e8b57 0%, #228b22 100%);
        color: white;
        padding: 40px;
        text-align: center;
        position: relative;
      }

      .mode-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 25px;
        padding: 4px;
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .mode-btn {
        padding: 8px 16px;
        border: none;
        background: transparent;
        color: white;
        border-radius: 20px;
        cursor: pointer;
        font-size: 0.9em;
        font-weight: 500;
        transition: all 0.2s ease;
        opacity: 0.7;
      }

      .mode-btn.active {
        background: rgba(255, 255, 255, 0.3);
        opacity: 1;
        font-weight: 600;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 8px;
      }

      .header p {
        font-size: 1.1em;
        opacity: 0.9;
      }

      .back-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
        margin-top: 20px;
      }

      .back-btn:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      .content {
        padding: 40px;
        color: #333;
      }

      .section {
        background: #f8fff8;
        border-radius: 12px;
        padding: 32px;
        margin-bottom: 32px;
        border: 1px solid #c8e6c9;
      }

      .section-title {
        font-size: 1.25em;
        font-weight: 600;
        color: #2e7d32;
        margin-bottom: 24px;
        text-align: center;
      }

      .cycle-length-selector {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
      }

      .cycle-btn {
        padding: 16px 20px;
        border: 2px solid #c8e6c9;
        background: white;
        color: #2e7d32;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
        font-weight: 500;
        transition: all 0.2s ease;
        text-align: center;
      }

      .cycle-btn:hover {
        border-color: #4caf50;
        background: #f8fff8;
      }

      .cycle-btn.active {
        background: #4caf50;
        color: white;
        border-color: #4caf50;
      }

      .cycle-btn.partner-length {
        border-color: #ff9800;
        color: #ff9800;
      }

      .cycle-btn.partner-length.active {
        background: #ff9800;
        color: white;
      }

      .cycle-btn.free-mode {
        border-color: #17a2b8;
        color: #17a2b8;
      }

      .cycle-btn.free-mode.active {
        background: #17a2b8;
        color: white;
      }

      .cultures-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .culture-card {
        background: white;
        border: 2px solid #c8e6c9;
        border-radius: 12px;
        padding: 24px;
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
      }

      .culture-card:hover {
        border-color: #4caf50;
        transform: translateY(-2px);
      }

      .culture-card.active {
        border-color: #2e7d32;
        background: #f8fff8;
      }

      .checkbox {
        width: 24px;
        height: 24px;
        border: 2px solid #c8e6c9;
        border-radius: 4px;
        margin: 0 auto 16px;
        position: relative;
        transition: all 0.2s ease;
      }

      .culture-card.active .checkbox {
        background: #2e7d32;
        border-color: #2e7d32;
      }

      .culture-card.active .checkbox::after {
        content: "‚úì";
        position: absolute;
        top: -1px;
        left: 4px;
        color: white;
        font-weight: bold;
        font-size: 14px;
      }

      .culture-title {
        font-size: 1.1em;
        font-weight: 600;
        color: #2e7d32;
        margin-bottom: 8px;
      }

      .culture-desc {
        font-size: 0.9em;
        color: #6c757d;
      }

      .partner-config {
        margin-top: 24px;
        display: none;
      }

      .partner-config.show {
        display: block;
      }

      .position-config {
        background: white;
        border: 1px solid #c8e6c9;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .position-label {
        font-weight: 600;
        color: #2e7d32;
      }

      .config-toggle {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .config-btn {
        padding: 8px 16px;
        border: 2px solid #c8e6c9;
        background: white;
        color: #2e7d32;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9em;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .config-btn:hover {
        border-color: #4caf50;
      }

      .config-btn.active {
        background: #4caf50;
        color: white;
        border-color: #4caf50;
      }

      .config-btn.free {
        border-color: #17a2b8;
        color: #17a2b8;
      }

      .config-btn.free.active {
        background: #17a2b8;
        color: white;
      }

      .generate-section {
        text-align: center;
        margin: 40px 0;
      }

      .generate-btn {
        background: linear-gradient(135deg, #2e8b57 0%, #228b22 100%);
        color: white;
        border: none;
        padding: 16px 40px;
        font-size: 1.1em;
        font-weight: 600;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 4px 12px rgba(46, 139, 87, 0.3);
      }

      .generate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(46, 139, 87, 0.4);
      }

      .results {
        background: #f8fff8;
        border-radius: 12px;
        margin-top: 32px;
        border: 1px solid #c8e6c9;
        display: none;
      }

      .results-header {
        background: linear-gradient(135deg, #2e8b57 0%, #228b22 100%);
        color: white;
        padding: 24px;
        text-align: center;
      }

      .results-content {
        padding: 32px;
      }

      .cycle-result {
        background: linear-gradient(135deg, #e8f5e8, #d4edda);
        border: 1px solid #4caf50;
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 32px;
        text-align: center;
      }

      .cycle-title {
        font-size: 1.3em;
        color: #2e7d32;
        margin-bottom: 20px;
        font-weight: 600;
      }

      .cycle-steps {
        display: grid;
        gap: 16px;
        margin: 20px 0;
      }

      .cycle-step {
        background: white;
        border: 1px solid #4caf50;
        border-radius: 8px;
        padding: 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .cycle-step.free-choice {
        border-color: #17a2b8;
        background: #f0f9ff;
      }

      .step-number {
        background: #4caf50;
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
      }

      .step-number.free {
        background: #17a2b8;
      }

      .step-technique {
        font-size: 1.1em;
        font-weight: 600;
        color: #2e7d32;
      }

      .step-technique.free {
        color: #17a2b8;
      }

      .step-description {
        font-size: 0.9em;
        color: #6c757d;
        text-align: right;
      }

      .cycle-info {
        background: rgba(255, 255, 255, 0.7);
        padding: 16px;
        border-radius: 8px;
        margin-top: 20px;
      }

      .stats-footer {
        background: #e8f5e8;
        padding: 20px;
        text-align: center;
        font-size: 0.9em;
        color: #2e7d32;
      }

      .partner-only {
        background: linear-gradient(135deg, #ffd700, #ffed4e);
        color: #333;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.7em;
        font-weight: 600;
        margin-top: 8px;
        display: inline-block;
      }

      .free-only {
        background: linear-gradient(135deg, #17a2b8, #20c997);
        color: white;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.7em;
        font-weight: 600;
        margin-top: 8px;
        display: inline-block;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="mode-toggle">
          <button class="mode-btn active" data-mode="basic">Alap M√≥d</button>
          <button class="mode-btn" data-mode="partner">üíé Partner M√≥d</button>
          <button class="mode-btn" data-mode="free">üé≤ Szabad J√°t√©k</button>
        </div>
        <h1>üèåÔ∏è‚Äç‚ôÇÔ∏è‚öΩ GƒÅnFootgolf</h1>
        <p id="subtitle">
          Ciklus Footgolf Gener√°tor - Alap M√≥d (9,330 kombin√°ci√≥)
        </p>

        <div style="margin-top: 20px">
          <button class="back-btn" onclick="window.location.href='index.html'">
            ‚Üê Vissza a Hubra
          </button>
        </div>
      </div>

      <div class="content">
        <div class="section">
          <div class="section-title">üîÅ Ciklus Hossza</div>
          <div class="cycle-length-selector">
            <div class="cycle-btn" data-length="1">1 R√∫g√°s</div>
            <div class="cycle-btn active" data-length="2">2 R√∫g√°s</div>
            <div class="cycle-btn" data-length="3">3 R√∫g√°s</div>
            <div class="cycle-btn" data-length="4">4 R√∫g√°s</div>
            <div class="cycle-btn" data-length="5">5 R√∫g√°s</div>
            <div class="cycle-btn partner-length" data-length="variable">
              <div>üé≤ V√°ltoz√≥ Hossz</div>
              <div class="partner-only">üíé Partner funkci√≥</div>
            </div>
            <div class="cycle-btn free-mode" data-length="free">
              <div>üé≤ Teljes Szabads√°g</div>
              <div class="free-only">üé≤ Szabad J√°t√©k</div>
            </div>
          </div>

          <div class="partner-config" id="partner-config">
            <div class="section-title">üíé Partner M√≥d Konfigur√°ci√≥k</div>
            <div id="position-configs"></div>
          </div>
        </div>

        <div class="section">
          <div class="section-title">ü¶∂ Domin√°ns Oldal M√≥d</div>
          <div class="cultures-grid">
            <div class="culture-card" data-culture="dominantFoot">
              <div class="checkbox"></div>
              <div class="culture-title">ü¶∂ Domin√°ns Oldal M√≥d</div>
              <div class="culture-desc">
                Jobb/Bal helyett Domin√°ns/Gyeng√©bb oldal
              </div>
            </div>
          </div>
        </div>

        <div class="generate-section">
          <button class="generate-btn" onclick="generate()">
            üèåÔ∏è Ciklus Gener√°l√°sa
          </button>
        </div>

        <div class="results" id="results">
          <div class="results-header">
            <h2>‚ö° Gener√°lt Footgolf Ciklus</h2>
          </div>
          <div class="results-content" id="results-content"></div>
          <div class="stats-footer" id="stats"></div>
        </div>
      </div>
    </div>

    <script>
      // === KONFIGUR√ÅCI√ì ===
      let config = {
        mode: "basic",
        cycleLength: 2,
        isVariableLength: false,
        isFreePlay: false,
        dominantMode: false,
        partnerPositions: {}, // Poz√≠ci√≥nk√©nt: 'generated' vagy 'free'
      };

      // === FOOTGOLF TECHNIK√ÅK (6 db CSAK) ===
      const FOOTGOLF_TECHNIQUES = {
        standard: [
          {
            name: "Jobb + Bels≈ë",
            type: "precision",
            description: "Prec√≠z ir√°ny√≠t√°s, r√∂vid puttek",
          },
          {
            name: "Jobb + R√ºszt",
            type: "balanced",
            description: "K√∂zepes er≈ë + pontoss√°g",
          },
          {
            name: "Jobb + K√ºls≈ë",
            type: "power",
            description: "Nagy er≈ë, hossz√∫ drive",
          },
          {
            name: "Bal + Bels≈ë",
            type: "precision",
            description: "Prec√≠z ir√°ny√≠t√°s, r√∂vid puttek",
          },
          {
            name: "Bal + R√ºszt",
            type: "balanced",
            description: "K√∂zepes er≈ë + pontoss√°g",
          },
          {
            name: "Bal + K√ºls≈ë",
            type: "power",
            description: "Nagy er≈ë, hossz√∫ drive",
          },
        ],
        dominant: [
          {
            name: "Domin√°ns + Bels≈ë",
            type: "precision",
            description: "Prec√≠z ir√°ny√≠t√°s, r√∂vid puttek",
          },
          {
            name: "Domin√°ns + R√ºszt",
            type: "balanced",
            description: "K√∂zepes er≈ë + pontoss√°g",
          },
          {
            name: "Domin√°ns + K√ºls≈ë",
            type: "power",
            description: "Nagy er≈ë, hossz√∫ drive",
          },
          {
            name: "Gyeng√©bb + Bels≈ë",
            type: "precision",
            description: "Prec√≠z ir√°ny√≠t√°s, r√∂vid puttek",
          },
          {
            name: "Gyeng√©bb + R√ºszt",
            type: "balanced",
            description: "K√∂zepes er≈ë + pontoss√°g",
          },
          {
            name: "Gyeng√©bb + K√ºls≈ë",
            type: "power",
            description: "Nagy er≈ë, hossz√∫ drive",
          },
        ],
      };

      const TYPE_LABELS = {
        precision: "üéØ Pontoss√°g",
        balanced: "‚öñÔ∏è Kiegyens√∫lyozott",
        power: "üí™ Er≈ë",
      };

      // === INICIALIZ√ÅL√ÅS ===
      document.addEventListener("DOMContentLoaded", function () {
        initEventListeners();
        updateUIForMode();
        updateSessionCount();
      });

      function initEventListeners() {
        // Mode v√°lt√°s
        document.querySelectorAll(".mode-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            document
              .querySelectorAll(".mode-btn")
              .forEach((b) => b.classList.remove("active"));
            this.classList.add("active");
            config.mode = this.dataset.mode;
            updateUIForMode();
          });
        });

        // Ciklus hossz
        document.querySelectorAll(".cycle-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            const length = this.dataset.length;

            // Ellen≈ërizz√ºk a hozz√°f√©rhet≈ës√©get
            if (length === "variable" && config.mode !== "partner") return;
            if (length === "free" && config.mode !== "free") return;

            document
              .querySelectorAll(".cycle-btn")
              .forEach((b) => b.classList.remove("active"));
            this.classList.add("active");

            config.isVariableLength = length === "variable";
            config.isFreePlay = length === "free";

            if (config.isFreePlay) {
              config.cycleLength = 0;
            } else if (config.isVariableLength) {
              config.cycleLength = 0; // Partner m√≥dban v√°ltoz√≥
            } else {
              config.cycleLength = parseInt(length);
            }

            updatePartnerConfig();
          });
        });

        // Domin√°ns m√≥d
        document
          .querySelector('[data-culture="dominantFoot"]')
          .addEventListener("click", function () {
            this.classList.toggle("active");
            config.dominantMode = this.classList.contains("active");
          });
      }

      function updateUIForMode() {
        const mode = config.mode;
        const variableLengthBtn = document.querySelector(
          '[data-length="variable"]'
        );
        const freePlayBtn = document.querySelector('[data-length="free"]');
        const subtitle = document.getElementById("subtitle");

        // Reset active states
        document
          .querySelectorAll(".cycle-btn")
          .forEach((b) => b.classList.remove("active"));

        if (mode === "basic") {
          if (subtitle)
            subtitle.textContent =
              "Ciklus Footgolf Gener√°tor - Alap M√≥d (9,330 kombin√°ci√≥)";

          // Disable partner and free functions
          if (variableLengthBtn) {
            variableLengthBtn.style.opacity = "0.5";
            variableLengthBtn.style.pointerEvents = "none";
          }
          if (freePlayBtn) {
            freePlayBtn.style.opacity = "0.5";
            freePlayBtn.style.pointerEvents = "none";
          }

          // Reset to default
          config.cycleLength = 2;
          config.isVariableLength = false;
          config.isFreePlay = false;
          document.querySelector('[data-length="2"]').classList.add("active");
        } else if (mode === "partner") {
          if (subtitle)
            subtitle.textContent =
              "Ciklus Footgolf Gener√°tor - üíé Partner M√≥d (25,000+ kombin√°ci√≥)";

          // Enable partner functions, disable free
          if (variableLengthBtn) {
            variableLengthBtn.style.opacity = "1";
            variableLengthBtn.style.pointerEvents = "auto";
          }
          if (freePlayBtn) {
            freePlayBtn.style.opacity = "0.5";
            freePlayBtn.style.pointerEvents = "none";
          }

          // Reset to default
          config.cycleLength = 2;
          config.isVariableLength = false;
          config.isFreePlay = false;
          document.querySelector('[data-length="2"]').classList.add("active");
        } else if (mode === "free") {
          if (subtitle)
            subtitle.textContent =
              "Szabad Footgolf - üé≤ Nincs Ciklus (‚àû szabads√°g)";

          // Disable partner functions, enable free
          if (variableLengthBtn) {
            variableLengthBtn.style.opacity = "0.5";
            variableLengthBtn.style.pointerEvents = "none";
          }
          if (freePlayBtn) {
            freePlayBtn.style.opacity = "1";
            freePlayBtn.style.pointerEvents = "auto";
            freePlayBtn.classList.add("active");
          }

          config.isFreePlay = true;
          config.cycleLength = 0;
        }

        updatePartnerConfig();
      }

      function updatePartnerConfig() {
        const partnerConfig = document.getElementById("partner-config");
        const positionConfigs = document.getElementById("position-configs");

        if (
          config.mode === "partner" &&
          !config.isFreePlay &&
          config.cycleLength > 0
        ) {
          partnerConfig.classList.add("show");

          // Generate position configs
          let html = "";
          for (let i = 1; i <= config.cycleLength; i++) {
            const currentSetting = config.partnerPositions[i] || "generated";
            html += `
                        <div class="position-config">
                            <div class="position-label">${i}. R√∫g√°s</div>
                            <div class="config-toggle">
                                <div class="config-btn ${
                                  currentSetting === "generated" ? "active" : ""
                                }" 
                                     data-position="${i}" data-mode="generated">Gener√°lt</div>
                                <div class="config-btn free ${
                                  currentSetting === "free" ? "active" : ""
                                }" 
                                     data-position="${i}" data-mode="free">Szabad</div>
                            </div>
                        </div>
                    `;
          }
          positionConfigs.innerHTML = html;

          // Add event listeners for position configs
          document.querySelectorAll(".config-btn").forEach((btn) => {
            btn.addEventListener("click", function () {
              const position = this.dataset.position;
              const mode = this.dataset.mode;

              // Update active state
              document
                .querySelectorAll(`[data-position="${position}"]`)
                .forEach((b) => {
                  b.classList.remove("active");
                });
              this.classList.add("active");

              // Save configuration
              config.partnerPositions[position] = mode;
            });
          });
        } else {
          partnerConfig.classList.remove("show");
        }
      }

      function updateSessionCount() {
        // Update session count for GƒÅnFootgolf
        let sessionCount = parseInt(
          localStorage.getItem("ganball-total-sessions") || "0"
        );
        let gameStats = JSON.parse(
          localStorage.getItem("ganball-game-stats") || "{}"
        );

        if (!gameStats["ganfootgolf"]) {
          gameStats["ganfootgolf"] = { sessions: 0, lastPlayed: null };
        }

        gameStats["ganfootgolf"].sessions++;
        gameStats["ganfootgolf"].lastPlayed = new Date().toISOString();
        sessionCount++;

        localStorage.setItem("ganball-total-sessions", sessionCount.toString());
        localStorage.setItem("ganball-game-stats", JSON.stringify(gameStats));
      }

      // === GENER√ÅL√ÅS ===
      function generate() {
        if (config.isFreePlay) {
          displayFreePlayResult();
          return;
        }

        let cycleLength;

        if (config.isVariableLength) {
          cycleLength = Math.floor(Math.random() * 5) + 1; // 1-5 random Partner m√≥dban
        } else {
          cycleLength = config.cycleLength;
        }

        const techniques = config.dominantMode
          ? FOOTGOLF_TECHNIQUES.dominant
          : FOOTGOLF_TECHNIQUES.standard;

        const cycle = [];
        for (let i = 0; i < cycleLength; i++) {
          const stepNumber = i + 1;
          const positionMode =
            config.partnerPositions[stepNumber] || "generated";

          if (positionMode === "free") {
            cycle.push({
              step: stepNumber,
              name: "J√°t√©kos D√∂nt",
              type: "free",
              description: "Szabad technika v√°laszt√°s",
              isFree: true,
            });
          } else {
            const randomTechnique =
              techniques[Math.floor(Math.random() * techniques.length)];
            cycle.push({
              step: stepNumber,
              ...randomTechnique,
              isFree: false,
            });
          }
        }

        displayResults(cycle);
      }

      function displayFreePlayResult() {
        let html = `
                <div class="cycle-result">
                    <div class="cycle-title">üé≤ Szabad Footgolf</div>
                    <div style="text-align: center; padding: 40px;">
                        <div style="font-size: 2em; margin-bottom: 20px;">üèåÔ∏è‚Äç‚ôÇÔ∏è TELJES FOOTGOLF SZABADS√ÅG ‚öΩ</div>
                        <div style="font-size: 1.2em; color: #6c757d; margin-bottom: 30px;">
                            Nincs el≈ëre meghat√°rozott ciklus vagy technika.<br>
                            A j√°t√©kos minden r√∫g√°sn√°l szabadon d√∂nthet.
                        </div>
                        <div style="background: rgba(46, 139, 87, 0.1); padding: 20px; border-radius: 8px;">
                            <strong>üèåÔ∏è‚Äç‚ôÇÔ∏è Footgolf Szabads√°g:</strong><br>
                            ‚Ä¢ Minden r√∫g√°sn√°l v√°lassz technik√°t a helyzethez<br>
                            ‚Ä¢ Nincs megk√∂t√©s vagy ciklus<br>
                            ‚Ä¢ Taktikai gondolkod√°s sz√ºks√©ges<br>
                            ‚Ä¢ Alkalmazkodj a p√°lya adotts√°gaihoz
                        </div>
                    </div>
                </div>
            `;

        document.getElementById("results-content").innerHTML = html;

        document.getElementById("stats").innerHTML = `
                üé≤ M√≥d: SZABAD FOOTGOLF | Nincs ciklus | üèåÔ∏è‚Äç‚ôÇÔ∏è GƒÅnFootgolf Gener√°tor
            `;

        const results = document.getElementById("results");
        results.style.display = "block";
        results.scrollIntoView({ behavior: "smooth" });
      }

      function displayResults(cycle) {
        let html = `
                <div class="cycle-result">
                    <div class="cycle-title">üèåÔ∏è‚Äç‚ôÇÔ∏è ${cycle.length} R√∫g√°sos Footgolf Ciklus</div>
                    <div class="cycle-steps">
            `;

        cycle.forEach((step) => {
          if (step.isFree) {
            html += `
                        <div class="cycle-step free-choice">
                            <div class="step-number free">${step.step}</div>
                            <div class="step-technique free">${step.name}</div>
                            <div class="step-description">
                                üéØ Szabad V√°laszt√°s<br>
                                <small>${step.description}</small>
                            </div>
                        </div>
                    `;
          } else {
            html += `
                        <div class="cycle-step">
                            <div class="step-number">${step.step}</div>
                            <div class="step-technique">${step.name}</div>
                            <div class="step-description">
                                ${TYPE_LABELS[step.type]}<br>
                                <small>${step.description}</small>
                            </div>
                        </div>
                    `;
          }
        });

        const hasFreePositions = cycle.some((step) => step.isFree);

        html += `
                    </div>
                    <div class="cycle-info">
                        <strong>üîÑ Haszn√°lat:</strong> A ciklus v√©g√©n √∫jraindul az 1. l√©p√©st≈ël<br>
                        <strong>üéØ C√©l:</strong> Minden r√∫g√°st a megadott technik√°val kell v√©grehajtani
                        ${
                          hasFreePositions
                            ? "<br><strong>üé≤ Szabad poz√≠ci√≥k:</strong> A j√°t√©kos d√∂nt a technik√°r√≥l"
                            : ""
                        }
                    </div>
                </div>
            `;

        document.getElementById("results-content").innerHTML = html;

        const mode = config.isVariableLength
          ? "V√ÅLTOZ√ì HOSSZ"
          : config.isFreePlay
          ? "SZABAD J√ÅT√âK"
          : `${config.cycleLength} R√öG√ÅS`;
        const modeText =
          config.mode === "partner"
            ? "üíé Partner M√≥d"
            : config.mode === "free"
            ? "üé≤ Szabad J√°t√©k"
            : "Alap M√≥d";
        const dominantText = config.dominantMode ? " | ü¶∂ Domin√°ns M√≥d" : "";

        document.getElementById("stats").innerHTML = `
                üèåÔ∏è Ciklus: ${mode} | ${modeText}${dominantText} | ‚öΩ GƒÅnFootgolf Gener√°tor
            `;

        const results = document.getElementById("results");
        results.style.display = "block";
        results.scrollIntoView({ behavior: "smooth" });
      }
    </script>
  </body>
</html>
